## Представление игр

Теория игр предлагает несколько подходов, чтобы найти решение игры.

Для поиска решения, игру надо представить в стандартной форме. Чаще всего применяются следующие три формы:

1. [**Развёрнутая форма**](https://ru.wikipedia.org/wiki/Развёрнутая_форма_игры) (экстенсивная или дерево игры).

2. [**Нормальная форма**](https://ru.wikipedia.org/wiki/Нормальная_форма_игры) (стратегическая или платёжная матрица).

3. **Форма характеристической функции**.

I> Кроме приведённого списка также есть [**краткая форма**](https://en.wikipedia.org/wiki/Succinct_game), [**сеть Петри**](https://ru.wikipedia.org/wiki/Сеть_Петри), [**графическая форма**](https://en.wikipedia.org/wiki/Graphical_game_theory) и [другие](https://en.wikipedia.org/wiki/Game_theory#Alternative_game_representations).

Форма представления игры зависит от её типа. Игры одного типа нагляднее представлять в одной форме, а другого типа — в другой. Таблица 1-2 демонстрирует соответствие типов игр и форм представления.

{caption: "Таблица 1-2. Формы представления игр", width: "100%"}
| Тип игры | Форма представления |
| --- | --- |
| С последовательными ходами | Развёрнутая форма |
|  | |
| С параллельными ходами | Нормальная форма |
|  | |
| Кооперативная | Характеристическая функция |

Есть дискретные и непрерывные игры. Для представления выигрышей участников в каждом случае используются разные подходы. Их демонстрирует таблица 1-3.

{caption: "Таблица 1-3. Представление выигрышей участников", width: "100%"}
| Тип игры | Представление выигрышей |
| --- | --- |
| Дискретная | Платёжная матрица |
|  | |
| Непрерывная | График наилучших ответов |

### Развёрнутая форма игры

#### Игра "дарообмен"

Рассмотрим классическую игру ["дарообмен"](https://ru.wikipedia.org/wiki/Дарообмен). Её описали американские экономисты Джордж Акерлоф и Дэнет Йеллен в статье "Гипотеза справедливой заработной платы и безработицы". Статья была опубликована в 1990 году.

Игра "дарообмен" моделирует рынок труда. В игре два участника: Работодатель и Работник. Первым ходит Работодатель. Он предлагает зарплату. Дальше ходит Работник. Он принимает зарплату и выбирает уровень усилий, который потратит на выполнение работы. Работник не может отказаться от предложенной ему зарплаты.

Рассмотрим игру, когда Работодатель предлагает два уровня зарплаты: высокий и низкий. Работник принимает предложенную зарплату. Затем он отвечает на неё высоким или низким уровнем усилий при выполнении работы.

Представим игру в развёрнутой форме. Для этого нам надо построить **дерево игры**. Оно представляет все элементы игры: игроков, их действия и выигрыши.

У каждого игрока есть своё **дерево решений**. Его узлами являются точки, в которых участник принимает решения. Исходящие из каждой точки ветви соответствуют вариантам выбора. Дерево игры — это совокупность деревьев решений всех участников этой игры. Оно отображает все возможные действия игроков и все исходы игры.

Иллюстрация 1-1 демонстрирует дерево игры "дарообмен".

{caption: "Иллюстрация 1-1. Дерево игры дарообмен", height: "50%", width: "100%"}
[Дерево игры дарообмен](images/GameTheory/gift-exchange-game-tree.png)

 На иллюстрации вы видите семь точек: a, b, c, d, e, f, g. Первые три точки a, b, c обозначают ходы игроков. В точке a Работодатель предлагает уровень зарплаты. Каждый выбор участника обозначается отрезком между двумя точками.
 
Если Работодатель предложил высокую зарплату, мы переходим в точку b. В ней Работник выбирает уровень усилий, которые он потратит на выполнение работы. Если Работодатель предложил низкую зарплату, то Работник выбирает уровень усилий в точке c.

Последние четыре точки d, e, f, g обозначают исходы игры. В них мы переходим после того, как Работник сделал свой выбор в точке b или c.

Каждому исходу игры соответствуют выигрыши участников. Они обозначаются парой цифр. Первая цифра выделена чёрным цветом. Это выигрыш Работодателя. Вторая цифра, выделенная серым, означает выигрыш Работника.

Рассмотрим выигрыши участников. Наилучший исход игры для Работодателя и Работника — это точка d. Она соответствует случаю, когда Работодатель предложил высокую зарплату и Работник качественно выполнил работу. В этом случае каждый игрок получил то, что хотел. Выигрыши обоих участников равны 2.

В точке e Работодатель не получает желаемого. Он заплатил большую сумму, но Работник отработал небрежно. В этом случае выигрыш Работника максимальный и равен 3. Он получил большие деньги и потратил минимум усилий. Выигрыш Работодателя при таком исходе минимальный — 0.

В точке f Работник получает минимальный выигрыш 0. В этом случае Работодатель заплатил небольшую сумму, а Работник выполнил заказ качественно. Из-за этого Работодатель получает максимальный выигрыш 3. Он потратил минимум денег за качественно сделанный заказ.

Точка g соответствует случаю, когда оба Работодатель и Работник получают низкие выигрыши 1. Работодатель заплатил небольшую сумму. Получив её Работник отработал небрежно. В этом случае Работодатель не потратил много денег, а Работник сэкономил свои силы.

Найдём решение этой игры. Упростим ситуацию и предположим, что сделка между Работодателем и Работником происходит однократно. Это значит, что второй попытки договориться у них не будет. В этом случае Работнику нет смысла пытаться зарекомендовать себя с хорошей стороны.

Для анализа игры применим метод [**обратной индукции**](https://ru.wikipedia.org/wiki/Обратная_индукция). Он также известен как метод **обратных рассуждений**. Его впервые применили фон Нейман и Моргенштерн для анализа игр с нулевой суммой в книге "Теория игр и экономическое поведение".

Обратная индукция предлагает рассматривать ходы игроков в обратном порядке, начиная с последнего. Таким образом мы находим наилучший выбор участника, который ходит последним. Затем с учётом этого, ищем наилучший предпоследний ход. Повторяем анализ шагов до тех пор, пока не придём к первому ходу в партии.

Какой наилучший выбор может сделать Работник? Предположим, что Работодатель заплатил большую сумму. Тогда у Работника есть два выбора: выполнить работу хорошо или плохо. Первый выбор приведёт к исходу в точке d. Это неплохой вариант, потому что Работодатель и Работник получат выигрыш 2. Но исход в точке e лучше для Работника. В ней он получит выигрыш 3, потому что ему не пришлось сильно напрягаться. Значит в точке b Работнику выгоднее выбрать вариант мало усилий. Так он максимизирует свой выигрыш.

Теперь рассмотрим случай, когда Работодатель заплатил мало. Тогда Работник делает выбор в точке c. Если он решит работать добросовестно, это приведёт к исходу f. При этом исходе выигрыш работника минимален. Он заработал мало и потратил много усилий. Если же работник потратит мало усилий, результат будет лучше. Он заработает мало, но и не потратит своих сил. Следовательно лучший выбор Работника в точке c — приложить мало усилий.

Мы пришли к выводу, что Работнику выгодно приложить мало усилий, независимо от уровня зарплаты. Ещё раз заметим, что этот вывод справедлив для рационального игрока, который стремится максимизировать свой выигрыш в однократной игре. Правила игры разрешают ему поступить нечестно в точке b, выбрав мало усилий. При этом у Работодателя нет никакой возможности наказать Работника.

Проанализируем выбор Работодателя в точке a. Он тоже рациональный игрок, который стремится максимизировать свой выигрыш. Следовательно, он применит метод обратной индукции, чтобы спрогнозировать действия Работника. Работодатель придёт к тому же выводу, что и мы: Работнику выгодно отработать небрежно. В этом случае Работодателю нет никакого смысла платить много. Он получит некачественную работу, независимо от потраченной суммы. Тогда наилучшим выбором Работодателя будет низкая зарплата.

Точка g является решением игры "дарообмен". Она соответствует наилучшим стратегиям Работодателя и Работника. Лучшие ходы каждого игрока обозначены стрелками на иллюстрации 1-1.

Если условия игры изменятся, то изменится и её решение. Например, игра может проводиться многократно. В этом случае Работодатель может предложить высокую зарплату в первой партии. Если на это Работник ответит малыми усилиями, Работодатель может "наказать" его в следующй партии. Вместо высокой зарплаты, он предложит низкую. Если Работник учтёт возможность такого наказания, он будет заинтересован всегда отвечать высокими усилиями на высокую зарплату. Это обеспечит ему наибольший выигрыш в точке d в серии партий.

Если Работодатель в первой партии предложил небольшую зарплату, у Работника есть стимул приложить много усилий. Таким образом он хорошо себя зарекомендует. Работодатель может учесть это в следующей партии и предложить высокую зарплату. Если этого не произойдёт, Работник перейдёт на выбор мало усилий в следующих партиях. Работодатель не заинтересован в таком исходе, поскольку он даст меньший выигрыш. Если Работник в какой-то партии  перейдет на низкие усилия, Работодатель в следующей партии перейдет на низкую зарплату. Когда обе стороны учитывают такую перемену, ни одна из них не будет менять свою стратегию.

Исход в точке d можно получить и в однократной игре. Для этого Работодатель и Работник должны заключить контракт. Контракт, имеющий юридическую силу, позволит Работодателю через суд потребовать от Работника компенсации за плохо выполненную работу. Это опять же случай, когда Работодатель может "наказать" Работника. В этом случае выигрыши изменятся. В точке e Работник получит не 3, а меньше в зависимости от суммы штрафа. Тогда ему станет невыгодно отвечать плохой работой на высокую зарплату.

#### Игра "стоножка"

Рассмотрим более сложное дерево игры ["стоножка"](https://360wiki.ru/wiki/Centipede_game) или "Сороконожка". Эту игру разработал американский экономист Роберт Розенталь в 1981 году.

В игре "стоножка" участвуют два игрока. Они по очереди выбирают одно из двух действий: взять стопку монет на столе или передать ход. При передаче хода, стопка монет увеличивается. Если никто из участников не берёт стопку монет, игра заканчивается на десятом ходу. В этом случае никто не получает деньги.

Для примера назовём участников Алиса и Боб. Иллюстрация 1-2 демонстрирует дерево игры "стоножка".

{caption: "Иллюстрация 1-2. Дерево игры стоножка", height: "50%", width: "100%"}
[Дерево игры стоножка](images/GameTheory/centipede-game-tree.png)

Игра начинается с хода Алисы в точке a. Перед ней на столе лежит 10 монет. Алиса выбирает одно из действий: взять монеты или пропустить ход. Если Алиса берёт монеты, игра заканчивается в точке b. Выигрыш Алисы равен 10, а Боба — 0.

Если Алиса пропускает ход, число монет на столе удваивается. Теперь Боб в точке c делает ход. Он может взять 20 монет и получить выигрыш 20 в точке d. Альтернативное решение — передать ход Алисе. Тогда она будет решать брать ли 30 монет в точке e.

Игра продолжается, пока на столе не накопится 100 монет. Последний ход делает Боб в точке x. Он выбирает или взять 100 монет, или пропустить ход. Если Боб пропускает ход, он и Алиса ничего не получают. Оба игрока знают, что игра заканчивается после хода в точке x.

Применим метод обратной индукции, чтобы решить игру "стоножка". Начнём с последнего ход Боба в точке x. Очевидно, что его лучший выбор — взять 100 монет.

Перейдём к предпоследнему ходу Алисы. Она должна решить, брать ли ей 90 монет или пропустить ход. Алиса знает, что на последнем ходе в точке x Боб возьмёт монеты. Поэтому она должна сделать это раньше и взять 90 монет на предпоследнем ходе. Рассуждая аналогично, Боб решит взять 80 монет на предпредпоследнем ходе.

Продолжая это рассуждение до первого хода, мы приходим к выводу, что Алиса должна взять 10 монет в точке a. В противном случае Боб возьмёт 20 монет на втором ходе.

"Стоножка" — один из случаев, когда экспериментальные данные не совпадают с решением теории игр. Игру неоднократно проводили среди студентов университетов. В этих экспериментах партия редко завершалась на первом ходе. Гораздо чаще участники пропускали несколько ходов и ждали увеличения суммы выигрыша. 

Есть несколько объяснений расхождению теории и практики. Одно из них указывает на неопытность игроков. Участник, который впервые начал играть в "стоножку", может просчитать только следующие пару ходов вперёд и остановиться на этом. Такой ограниченный расчёт приводит к тому, что участники склонны брать монеты ближе к последнему ходу.

Экономисты Игнасио Паласиос-Уэрта и Оскар Волий проводили игру "стоножка" среди профессиональных шахматистов в 2003 году. Результаты этого эксперимента оказались ближе к предсказанию теории. Большинство игроков предпочитало брать монеты на первом ходе. Возможно, причина в том, что шахматисты хорошо знакомы с методом обратных рассуждений ввиду своей профессии. Поэтому они просчитывали все ходы в игре перед тем, как сделать первый ход.

Другое объяснение говорит об ожидаемой иррациональности игроков. Когда первый участник пропускает ход в точке a, он даёт сигнал оппоненту, что готов повторить своё решение. Исходя из этого, второй игрок тоже пропускает свой ход в точке c. Таким образом игра продолжается, пока один из игроков не решит, что стопка монет стала достаточно большой.

Если у участников игры "стоножка" есть возможность договориться, её решение поменяется. В этом случае игра становится кооперативной. Оба участника ждут, пока сумма на столе не станет максимальной. Второй игрок забирает эту сумму на последнем ходе в точке x. Затем он делит выигрыш с первым игроком пополам.

### Нормальная форма игры

#### Игра "Дилемма заключённого"

В том же 1950 году американские математики Мерил Флад и Мелвин Дрешер сформулировали фундаментальную проблему теории игр. Она получила известность как ["дилемма заключённого"](https://ru.wikipedia.org/wiki/Дилемма_заключённого), благодаря канадскому математик Альберту Таккеру.

Флад и Дрешер описали дилемму на языке математики. Таккер сформулировал её в виде небольшой истории, чтобы сделать проблему нагляднее для своего семинара. Его формулировка выглядит так:

*Два преступника А и Б были арестованы и заключены в тюрьму. Они находятся в разных камерах и не могут общаться друг с другом. У полиции нет достаточных доказательств, чтобы осудить преступников по основному делу. Есть только доказательства для менее серьезного обвинения. Полиция предлагает каждому заключённому либо дать показания против другого, либо не давать их. При этом результаты будут следующими:*

* *Если А и Б дают показания против друг друга, каждый из них получит два года тюрьмы.*

* *Если А даёт показания против Б, но Б хранит молчание, А будет освобождён, а Б получит три года тюрьмы.*

* *Если А молчит, а Б даёт показания против него, А получает три года тюрьмы, а Б будет освобождён.*

* *Если А и Б будут молчать, они оба получат по одному году тюрьмы.*

Это параллельная игра с одновременными ходами. Участники могут делать выбор друг за другом, но при этом они не знают о выборе друг друга. Поэтому каждый из них вынужден принимать решения, не зная о решении другого. В такой ситуации построить дерево игры нельзя.

Чтобы проанализировать параллельную игру, её надо представить в нормальной форме.

-----

В "дилемме заключённого" дача показаний является предпочтительной стратегией для обоих участников. Такое решение максимизирует выигрыш каждого из них независимо от действий другого. Если А даёт показания, он либо получит два года, либо будет освобождён. Если он не даёт показания, он рискует получить три года, если показания даст Б. Точно такая же логика работает и для Б.

Дача показания обоими участниками является равновесием Нэша в этой игре. В этом случае каждый участник получает два годам тюрьмы. Парадокс дилеммы заключается в том, что рациональные действия каждого участника приводят к нерациональному решению. Лучшим решением в этой игре было бы молчать для обоих участников. Тогда каждый из них получил бы по одному году тюрьмы.

#### Координационные игры

#### Игра "Олигополия Курно"

### Комбинация последовательных и параллельных игр