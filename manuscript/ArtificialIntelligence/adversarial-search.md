## Состязательный поиск

Мы познакомились с алгоритмами классического поиска. Они позволяют интеллектуальному агенту найти требуемое состояние одноагентной среды. В результате такого поиска агент решает поставленную задачу.

Классический поиск не работает в условиях, когда два и более агентов ищут решение в одной и той же среде. В этом случае действия каждого агента меняют состояние среды. При этом если агенты конкурируют друг с другом, их действия могут мешать оппоненту достигнуть цели. Поиск в таких условиях называется **состязательным** или **поиском в условиях противодействия** (adversarial Search). Рассмотрим его подробнее.

### Проблемная среда

Дадим полную характеристику проблемной среды, в которой применяется состязательный поиск. Такая среда имеет следующие признаки согласно таблице 2-5:

* Полностью наблюдаемая
* Детерминированная
* Последовательная
* Статическая или полудинамическая
* Дискретная
* Мультиагентная

Теория ИИ называет задачу поиска в условиях противодействия **игрой**. С точки зрения теории игр это определение недостаточно точное.Состязательный поиск работает только в играх конкретного типа. Они должны иметь следующие признаки согласно таблице 1-1:

* Последовательный порядок ходов
* Нулевая сумма выигрышей
* Полная информация
* Совершенная информация
* Детерминированность
* Фиксированные правила
* Дискретность

Для игр с другими признаками состязательной поиск неэффективен.

Пространством состояний для состязательного поиска является дерево игры. Это дерево соответствует развёрнутой форме представления игр, которую использует теория игр для поиска решения.

Мы рассмотрим два алгоритма состязательного поиска. Их демонстрирует таблица 2-16.

{caption: "Таблица 2-16. Алгоритмы состязательного поиска", width: "100%"}
| Алгоритм | Временная сложность | Пространственная сложность | Полнота | Оптимальность |
| --- | --- | --- | --- | --- |
| Минимакс (minimax) | O(b^m^) | O(b*m) | Да | Да, если все оппоненты действуют оптимально |
|  | | | | |
| Альфа-бета-отсечение (alpha-beta pruning) | O(b^m/2^) | O(b*m) | Да | Да, если все оппоненты действуют оптимально |

Для определения временной и пространственной сложности в таблице применяются следующие обозначения:

* b — коэффициент ветвления.
* m — максимальная глубина графа поиска.

### Минимакс

Самый известный алгоритм состязательного поиска называется [**минимакс**](https://ru.wikipedia.org/wiki/Минимакс).

Рассмотрим самый простой случай, когда два агента соревнуются в игре с нулевой суммой. Назовём агента, выполняющего первый ход, MAX (от максимум). MIN — это агент, делающий второй ход.

Задача игрок MAX — получить максимальный выигрыш в результате каждого своего хода. После него наступает ход игрока MIN. Его задача минимизировать выигрыш игрока MAX. В этом состоит оптимальная стратегия агента MIN. Так как игра с нулевой суммой, то минимизируя выигрыш оппонента, игрок MIN максимизирует свой собственный выигрыш.

Алгоритм минимакс использует поиск в глубину, чтобы пройти пространство состояний от начального узла до **терминального**. Терминальным называется состояние среды в котором игра окончена.

Каждому терминальному состоянию соответствует пара выигрышей для игроков MAX и MIN. Поскольку игра с нулевой суммой, то часто терминальному узлу присваивают выигрыш только игрока MAX. Его достаточно для правильной работы алгоритма минимакс.

Рассмотрим пример работы алгоритма минимакс. Иллюстрация 2-11 демонстрирует дерево поиска и порядок обхода его узлов.

### Альфа-бета-отсечение
