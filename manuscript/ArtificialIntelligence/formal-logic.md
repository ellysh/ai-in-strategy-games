## 2.3 Формальная логика

Мы рассмотрели теорию интеллектуальных агентов. Она помогает разработчикам интеллектуальных систем собрать информацию об условиях поставленной задачи. Из этих условий следуют характеристики проблемной среды. Характеристики среды определяют тип интеллектуального агента, который может в ней работать. Для каждого типа агента есть набор подходящих способов реализации. Таким образом теория интеллектуальных агентов связывает условия задачи и способ реализации агента.

Мы начнём с самого простого способа реализации агентов — формальной логики. На ней обычно строятся рефлексные агенты, основанные на модели.

Сегодня логическое программирование малопопулярно. Оно больше не считается одним из направлений ИИ. Его рассматривают как одну из парадигм программирования. Тем не менее мы познакомимся с ним для полноты картины.

### 2.3.1 Пропозициональная логика

Первый раздел формальной логики называется **пропозициональная логика** или логика высказываний. Этот раздел изучает высказывания и отношения между ними. Каждое высказывание может быть истинным или ложным. Сами высказывания могут быть сложными или простыми.

Рассмотрим идею высказываний на примере. Для этого переведём рассуждение с естественного языка на язык пропозициональной логики. Рассуждение на естественном языке выглядит так:

* Предпосылка 1: когда идёт дождь, на небе пасмурно.
* Предпосылка 2: сейчас идёт дождь.
* Заключение: значит, сейчас на небе пасмурно.

Пропозициональная логика позволяет делить сложные высказывания на простые или **элементарные**. Это деление допустимо до определённого предела. Чтобы разделить высказывание, его надо представить в виде частей, соединённых логическими операторами.

**Логическим оператором** называется действие над одним или несколькими высказываниями. Результат этого действия однозначно зависит от типа оператора и высказываний, к которым он применяется.

Допустим, мы разделили сложное высказывание на элементарные части. Каждую часть можно заменить на букву. Буква представляет собой переменную. **Переменная** обозначает одно неделимое утверждение. Высказывание, составленное из переменных, называется **формулой**.

Вернёмся к нашему рассуждению о погоде. Заменим высказывания на переменные следующим образом:

* P — "идёт дождь"
* Q — "на небе пасмурно"

Эти высказывания нельзя разделить на составные части. Поэтому они являются элементарными.

Теперь перепишем всё рассуждение, используя переменные и логические операторы:

* Предпосылка 1: P → Q = 1
* Предпосылка 2: P = 1
* Заключение: Q = 1

В пропозициональной логике принято обозначать истинность формул и высказываний числом 1, а ложность — числом 0.

Первая предпосылка представляет собой сложное высказывание. Мы заменили его на формулу с логическим оператором. Символ → обозначает оператор импликации. [**Импликация**](https://ru.wikipedia.org/wiki/Импликация) — это логическая операция, которая означает связь "если ..., то ...". В нашей формуле импликация создаёт такое отношение: "если P, то Q".

Таблица 2-8 демонстрирует все логические операторы, допустимые в пропозициональной логике. Другие операторы в ней недопустимы.

{caption: "Таблица 2-8. Операторы пропозициональной логики", width: "100%"}
| Оператор | Название | Значение |
| --- | --- | --- |
| ¬ | Отрицание | Логическое "НЕ" |
|  | | |
| ![](images/ArtificialIntelligence/conjunction.png) или & | Конъюнкция | Логическое "И" |
|  | | |
| ![](images/ArtificialIntelligence/disjunction.png) | Дизъюнкция | Логическое "ИЛИ" |
|  | | |
| → | Импликация | Логическая связь "ЕСЛИ ..., ТО ..." |

Основная задача пропозициональной логики — установить истинность значения формулы для данных значений входящих в неё переменных. Чтобы решить эту задачу, надо последовательно рассчитать результаты каждой логической операции в формуле. Для этого применяют [**таблицы истинности**](https://ru.wikipedia.org/wiki/Таблица_истинности). Такая таблица описывает результат логической операции для каждого набора значений входящих в неё переменных.

Допустим, что у нас есть две переменные P и Q. Таблица 2-9 демонстрирует таблицу истинности логических операций над ними.

{caption: "Таблица 2-9. Таблица истинности логических операций над переменными P и Q", width: "100%"}
| P | Q | ¬ P | P ![](images/ArtificialIntelligence/conjunction.png) Q | P ![](images/ArtificialIntelligence/disjunction.png) Q | P → Q |
| --- | --- | --- | --- | --- | --- |
| 0 | 0 | 1 | 0 | 0 | 1 |
|  | | | | | |
| 0 | 1 | 1 | 0 | 1 | 1 |
|  | | | | | |
| 1 | 0 | 0 | 0 | 1 | 0 |
|  | | | | | |
| 1 | 1 | 0 | 1 | 1 | 1 |

Типичная задача пропозициональной логики может выглядеть так. Установить истинность следующей формулы для значения переменных A = 1, B = 0 и C = 1:
{height: "5%"}
![](images/ArtificialIntelligence/a-and-b-or-c-formula.png)

Чтобы решить эту задачу, разделим формулу на части и рассчитаем результат каждой из них. Первая часть A ![](images/ArtificialIntelligence/conjunction.png) B = 0 при A = 1 и B = 0. Это следует из таблицы 2-9, строка P = 1, Q = 0. Тогда вторая часть формулы выглядит так: 1 ![](images/ArtificialIntelligence/disjunction.png) C. Эта часть формулы равна 1 для C = 1. Это следует из строки P = 1, Q = 1 таблицы 2-9. Мы получили ответ: формула истинна для заданных значений A, B и C.

Теперь вопрос: как именно пропозициональная логика помогает интеллектуальному агенту моделировать изменения в среде? Она позволяет связывать события и действия с их результатами.

Для примера рассмотрим среду с двумя агентами, которые играют в мини-футбол. Используя пропозициональную логику, агенты могут установить следующие зависимости:

1. Если ударить по мячу в направлении ворот оппонента, мяч покатится в ворота оппонента.

2. Если ударить по мячу в направлении моих ворот, мяч покатится в мои ворота.

3. Если оппонент ударил по мячу в направлении моих ворот, мяч покатится в мои ворота.

4. Если встать на пути мяча в мои ворота, мяч остановится.

Исходя из этих зависимостей, агент выбирает правильное действие в разных игровых ситуациях. Например, агент видит: в направлении его ворот оппонент бьёт по мячу. Агент делает вывод, что сейчас мяч покатится в его ворота. Но мяч можно остановить, если встать на его пути. Именно это действие будет правильным в сложившейся ситуации. Поэтому агент выбирает его. Когда мяч остановится, агент ударит по нему в направлении ворот оппонента, а не своих.

Пропозициональная логика очень проста. Выразительности её языка достаточно для описания сред с небольшим числом состояний. Этого хватает интеллектуальным агентам для решения относительно простых задач.

Язык пропозициональной логики не справляется с описанием сложных сред. Он не может эффективно представлять свойства отдельных объектов, классов объектов и отношения между ними. Эти ограничения являются проблемой. Её решает логика первого порядка.

### 2.3.2 Логика первого порядка

**Логика первого порядка** также известна как логика предикатов. Она изучает высказывания относительно переменных, функций и предикатов.

Понятие **переменной** в логике первого порядка отличается от пропозициональной логики. Здесь оно означает любой элемент некоторого множества. Благодаря переменным, можно строить высказывания и выражать отношения для классов объектов.

**Функция** представляет собой однозначную связь между входными и выходными значениями. Другими словами, функция определяет соответствия между элементами двух множеств:

* Множество входных значений.
* Множество выходных значений.

Функции используются для выражения связей между разными сущностями.

Вот примеры функций:

* f(x) = x ^2^ — функция f принимает на вход один аргумент x и возвращает его квадрат.

* g(x, y) = x + y — функция g принимает на вход два аргумента x и y. Она возвращает их сумму.

**Предикат** — это утверждение о каком-либо объекте. Предикат может быть истинным или ложным. Предикат можно рассматривать, как частный случай функции с двумя возможными выходными значениями: истина или ложь.

Вот примеры предикатов:

* P(x) — "x — это простое число".

* Q(x, y) — "x больше чем y".

В логике первого порядка допустимы все операторы пропозициональной логики из таблицы 2-8. Кроме них есть ещё кванторы. [**Квантор**](https://ru.wikipedia.org/wiki/Квантор) — это логическая операция, которая указывает область действия переменной и определяет степень выполнения утверждения. Кванторы нужны для обобщений и утверждений о свойствах объектов.

В логике первого порядка допустимы два квантора. Их демонстрирует таблица 2-10.

{caption: "Таблица 2-10. Кванторы логики первого порядка", width: "100%"}
| Квантор | Название |Значение |
| --- | --- | --- |
| ![](images/ArtificialIntelligence/universal-quantification.png) | [**Квантор всеобщности**](https://ru.wikipedia.org/wiki/Квантор_всеобщности) | Условие верно для всех обозначенных элементов. |
|  | | |
| ![](images/ArtificialIntelligence/existential-quantification.png) | [**Квантор существования**](https://ru.wikipedia.org/wiki/Квантор_существования) | Условие верно для по крайней мере одного элемента из множества. |
|  | | |
| ! | [**Квантор единственности**](https://ru.wikipedia.org/wiki/Единственность) | Условие верно для одного-единственного объекта. |

Квантор всеобщности применяется к какой-либо переменной. Он записывается в следующем виде: ![](images/ArtificialIntelligence/universal-quantification.png)x. Эта запись читается как "каждый x", "любой x" или "все x".

Квантор существования также применяется к переменной. Он записывается так: ![](images/ArtificialIntelligence/existential-quantification.png)x. Это означает "существует такой x, который ...".

В качестве примера переведём рассуждение на естественном языке в формулу логики первого порядка. Рассуждение выглядит так:

* Предпосылка 1: каждый человек смертен.
* Предпосылка 2: Сократ — человек.
* Заключение: Сократ смертен.

Логика первого порядка позволяет представить сложное высказывание с помощью переменных, предикатов и функций. Эти составные части меньше, чем элементарные высказывания в пропозициональной логике.

Для начала введём два предиката:

* `ЧЕЛОВЕК(x)` — означает, что "x является человеком".
* `СМЕРТЕН(x)` — означает, что "x смертно".

В этих формулах x представляет собой переменную. Её можно заменить на любое значение.

Применим квантор всеобщности ![](images/ArtificialIntelligence/universal-quantification.png)x. Тогда высказывание "каждый человек смертен" можно представить следующей формулой:
{height: "5%"}
![](images/ArtificialIntelligence/socrates-part1-formula.png)

Эта формула читается так:

* Для любого x выполняется следующее: если x является человеком, то x смертно.

Введём ещё два предиката:

* `ЧЕЛОВЕК(Сократ)` — означает, что "Сократ является человеком"
* `СМЕРТЕН(Сократ)` — означает, что "Сократ смертен"

В этих формулах мы заменили переменную x на конкретного человека — Сократа. В этом случае "Сократ" называется **константой**.

Добавим к нашей формуле утверждение, что Сократ является человеком. Для этого применим оператор конъюнкции ![](images/ArtificialIntelligence/conjunction.png) и предикат `ЧЕЛОВЕК(Сократ)`. Получим:
{width: "100%"}
![](images/ArtificialIntelligence/socrates-part2-formula.png)

Эта формула читается так:

* (Для любого x выполняется: если x является человеком, то x смертно) и Сократ является человеком.

Осталось добавить утверждение о смертности Сократа. Для этого применим оператор импликации → и предикат `СМЕРТЕН(Сократ)`. Получим финальную формулу:
{width: "100%"}
![](images/ArtificialIntelligence/socrates-full-formula.png)

Она читается так:

* Если ((для любого x выполняется: если x является человеком, то x смертно) и Сократ является человеком), то Сократ смертен.

Наш пример продемонстрировал, что язык логики первого порядка более формальный чем язык пропозициональной логики. Кроме этого, есть ещё несколько важных различий между ними:

1. **Количественная оценка**. Благодаря переменным и кванторам, логика первого порядка позволяет строить утверждения о целых классах объектов, а не только о конкретных экземплярах.

2. **Выразительность**. Переменные, кванторы и предикаты в логике первого порядка позволяют более детально выражать отношения между объектами и их свойствами.

3. **Компактность**. Язык логики первого порядка позволяет представлять знания в компактной форме. Особенно это проявляется для областей знаний с большим числом сущностей и отношений между ними.

4. **Выводы и рассуждения**. Язык логики первого порядка предоставляет мощные конструкции для рассуждений и логического вывода.

Логика первого порядка предлагает более выразительный язык для описания отношений между объектами. Это позволяет решать с её помощью сложные задачи. Например, моделирование проблемных сред с большим числом состояний.

{pagebreak}
