## 2.3 Формальная логика

Мы рассмотрели теорию интеллектуальных агентов. Она помогает разработчикам интеллектуальных систем собрать информацию об условиях поставленной задачи. Из этих условий следуют характеристики проблемной среды. Характеристики среды определяют тип интеллектуального агента, который может в ней работать. Для каждого типа агента есть набор подходящих способов реализации. Таким образом теория интеллектуальных агентов связывает условия задачи и способ реализации агента.

Для полноты картины рассмотрим понятия формальной логики. Формальная логика — это один из подходов для реализации агента, основанного на модели.

Сегодня логическое программирование малопопулярно. Оно больше не считается одним из направлений ИИ. Его скорее рассматривают как одну из парадигм программирования.

### 2.3.1 Пропозициональная логика

Первый подход формальной логики называется пропозициональная логика. Она также известна как логика высказываний.

Рассмотрим идею подхода на примере. Для этого переведём рассуждение с естественного языка на язык пропозициональной логики.

Рассуждение на естественном языке выглядит так:

* Предпосылка 1: когда идёт дождь, на небе пасмурно.
* Предпосылка 2: сейчас идёт дождь.
* Заключение: значит, сейчас на небе пасмурно.

Пропозициональная логика позволяет делить сложные высказывания на **элементарные**. Это деление допустимо до определённого предела. Чтобы разделить высказывание, его надо представить в виде частей, соединённых логическими операторами.

**Логическим оператором** называется действие над одним или несколькими высказываниями. Результат этого действия однозначно зависит от типа оператора и высказываний, к которым он применяется.

Допустим, что мы разделили сложное высказывание на элементарные части. Каждую часть можно заменить на букву. Буква представляет собой переменную. **Переменная** обозначает одно неделимое утверждение. Высказывание составленное из переменных называется **формулой**.

Вернёмся к нашему рассуждению о погоде. Заменим высказывания на буквы следующим образом:

* P — "идёт дождь"
* Q — "на небе пасмурно"

Эти высказывания нельзя разделить на составные части. Поэтому они являются элементарными.

Теперь перепишем всё рассуждение, используя переменные и логические операторы:

* Предпосылка 1: P → Q = 1
* Предпосылка 2: P = 1
* Заключение: Q = 1

В пропозициональной логике принято обозначать истинность формул и высказываний числом 1, а ложность — числом 0.

Символ → обозначает оператор импликации. [**Импликация**](https://ru.wikipedia.org/wiki/Импликация) — это логическая операция, которая означает связь "если ..., то ...". В нашей формуле импликация создаёт такое отношение: "если P, то Q".

Таблица 2-9 демонстрирует все логические операторы, допустимые в пропозициональной логике. Другие операторы в ней недопустимы.

{caption: "Таблица 2-9. Операторы пропозициональной логики", width: "100%"}
| Оператор | Название | Значение |
| --- | --- | --- |
| ¬ | Отрицание | Логическое "НЕ" |
|  | |
| ⋀ или & | Конъюнкция | Логическое "И" |
|  | |
| ⋁ | Дизъюнкция | Логическое "ИЛИ" |
|  | |
| → | Импликация | Логическая связь "ЕСЛИ ..., ТО ..." |

Основная задача логики высказываний — установить истинность значения формулы для данных значений входящих в неё переменных. Чтобы решить эту задачу, надо последовательно рассчитать результат каждой логической операции в формуле. Для этого применяют [**таблицы истинности**](https://ru.wikipedia.org/wiki/Таблица_истинности). Такая таблица описывает результат операции для каждого набора значений входящих в неё переменных.

Допустим, что у нас есть две переменные P и Q. Тогда таблица 2-10 демонстрирует таблицу истинности логических операций над ними.

{caption: "Таблица 2-10. Таблица истинности логических операций над переменными P и Q", width: "100%"}
| P | Q | ¬ P | P ⋀ Q | P ⋁ Q | P → Q |
| --- | --- | --- | --- | --- | --- |
| 0 | 0 | 1 | 0 | 0 | 1 |
|  | |
| 0 | 1 | 1 | 0 | 1 | 1 |
|  | |
| 1 | 0 | 0 | 0 | 1 | 0 |
|  | |
| 1 | 1 | 0 | 1 | 1 | 1 |

Типичная задача пропозициональной логики может выглядеть так. Установить истинность следующей формулы для значения переменных A = 1, B = 0 и C = 1:
{line-numbers: false, format: text}
```
A ⋀ B ⋁ C
```

Чтобы решить эту задачу, разделим формулу на части и рассчитаем результат каждой из них. Первая часть `A ⋀ B = 0` при A = 1 и B = 0. Это следует из таблицы 2-10. Тогда вторая часть `(A ⋀ B) ⋁ C = 1`. Ответ на задачу — формула истинна для заданных значений A, B и C.

Теперь вопрос: как именно пропозициональная логика помогает интеллектуальному агенту моделировать изменения в среде? Она позволяет связывать события и действия с их результатами.

Для примера рассмотрим среду с двумя агентами, которые играют в мини-футбол. Используя пропозициональную логику, агенты могут установить следующие зависимости:

1. Если ударить по мячу в направлении ворот оппонента, мяч покатится в ворота оппонента.

2. Если ударить по мячу в направлении моих ворот, мяч покатится в мои ворота.

3. Если оппонент ударил по мячу в направлении моих ворот, мяч покатится в мои ворота.

4. Если встать на пути мяча в мои ворота, мяч остановится.

Исходя из этих зависимостей, агент выбирает правильное действие в разных игровых ситуациях. Например, агент видит: в направлении его ворот оппонент бьёт по мячу. Агент делает вывод, что сейчас мяч покатится в его ворота. Но мяч можно остановить, если встать на его пути. Именно это действие будет правильным в сложившейся ситуации и агент выберет его. Когда мяч остановится, агент ударит по нему в направлении ворот оппонента, а не своих.

Пропозициональная логика очень проста. Выразительности её языка достаточно для моделирования сред с небольшим числом состояний. Поэтому несложные агенты могут полагаться на пропозициональную логику.

Язык пропозициональной логики не справляется со сложными задачами. Он не может эффективно представлять свойства отдельных объектов, классов объектов и отношения между ними. Эти ограничения являются проблемой. Она решается в логике первого порядка.

### 2.3.2 Логика первого порядка

Теперь переведём рассуждение на естественном языке в формулу логики первого порядка. Рассуждение выглядит так:

* Предпосылка 1: каждый человек смертен.
* Предпосылка 2: сократ — человек.
* Заключение: следовательно, Сократ смертен.

Логика первого порядка позволяет представлять сложные высказывания в виде переменных и функций. Это более мелкие части, чем элементарные высказывания в пропозициональной логике.

Для начала введём следующие две функции:

* `ЧЕЛОВЕК(x)` — означает, что "x является человеком".
* `СМЕРТЕН(x)` — означает, что "x смертно".

В этих формулах `x` представляет собой переменную. Её можно заменить в функции на любое значение.

Далее применим [**квантор всеобщности](https://ru.wikipedia.org/wiki/Квантор_всеобщности) ∀x. Он означает "каждый x" или "любой x" или "все x". [**Кванторы**](https://ru.wikipedia.org/wiki/Квантор) — это логические операции, которые ограничивают область истинности переменной.

I> Кроме квантора всеобщности часто применяют [**квантор существования**](https://ru.wikipedia.org/wiki/Квантор_существования). Он обозначается символом ∃ и означает "существует". Например, ∃x означает "существует такой x, который ...".

Теперь высказывание "каждый человек смертен" можно представить следующей формулой:

∀x (ЧЕЛОВЕК(x) → СМЕРТЕН(x))

Эту формулу можно прочитать так:

* Для любого x выполняется следующее: если x является человеком, то x смертно.

Добавим к полученной формуле две следующих функции:

* `ЧЕЛОВЕК(Сократ)` — означает, что "Сократ является человеком"
* `СМЕРТЕН(Сократ)` — означает, что "Сократ смертен"

В этих утверждениях мы заменили переменную x на конкретного человека — Сократа.

Теперь всё рассуждение о смертности Сократа на естественном языке можно записать такой формулой:

(∀x (ЧЕЛОВЕК(x) → СМЕРТЕН(x)) ∧ ЧЕЛОВЕК(Сократ)) → СМЕРТЕН(Сократ)

Символ ∧ обозначает [**конъюнкцию**](https://ru.wikipedia.org/wiki/Конъюнкция). Конъюнкция — это логическая операция, близкая по смыслу к союзу "и". Всё выражение с операцией конъюнкция истинно, когда левая и правая его части истинны. Выражение ложно во всех остальных случаях.

В нашем примере конъюнкция означает, что вся следующая формула истинна, когда истинны её части слева и справа от конъюнкции ∧:

∀x (ЧЕЛОВЕК(x) → СМЕРТЕН(x)) ∧ ЧЕЛОВЕК(Сократ)

На естественный язык эта формула переводится так:

* (для любого x выполняется: если x является человеком, то x смертно) и Сократ является человеком.

Из этой формулы, согласно оператору импликации, следует утверждение `СМЕРТЕН(Сократ)`. Другими словами "Сократ смертен".

{pagebreak}
