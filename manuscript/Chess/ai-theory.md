## Теория ИИ и шахматы

Мы рассмотрели шахматы с точки зрения теории игр. Теперь оценим эту игру с точки зрения теории интеллектуальных агентов. Она поможет нам сформулировать формальные требования к системе ИИ для игры в шахматы.

### Проблемная среда

Определим, к какому классу проблемных сред относится игра в шахматы. Для этого обратимся к таблице 2-5. В ней перечисленны признаки классификации сред.

Агент может получить состояние шахматной доски в любой момент времени. Скрытых состояний у игры нет. Из этого следует, что шахматы — это полностью наблюдаемая среда.

В шахматах нет случайных событий. Каждое состояние среды зависит только от её предыдущего состояния и действий агентов. Поэтому среда будет детерминированной.

Агент, играющий в шахматы, воспринимает среду последовательно. Каждое его действие имеет долгосрочные последствия для позиции фигур на доске.

В шахматах участники делают ходы друг за другом. Позиция на доске меняется только после очередного хода. Такие изменения характерны для статических сред. Однако, по правилам классических шахмат каждому участнику отводится определённое время на все ходы. Когда время заканчивается, игроку засчитывается поражение. Получается, что с течением времени меняются показатели производительности агента. В этом случае среда считается полудинамической.

Агент может однозначно различить все состояния шахматной доски. Количество этих состояний огромно, но конечно. Точно так же различимы и конечны игровое время и ходы игроков. Следовательно, шахматы — это дискретная среда.

В шахматы играет одновременно два участника. Их показатели производительности обратно пропорциональны. Поэтому шахматы относятся к мультиагентным конкурентным средам.

Правила шахмат относительно просты для того, чтобы представить их в удобной для агента форме. Не зная эти правила, агент не сможет играть. Ведь нарушать правила строго запрещено. Поэтому шахматы можно считать средой, известной агенту.

Подведём итог. С точки зрения теории интеллектуальных агентов шахматы относятся к следующему типу среды:

* Полностью наблюдаемая
* Детерминированная
* Последовательная
* Полудинамическая
* Дискретная
* Мультиагентная и конкурентная
* Известна агенту

### Интеллектуальный агент

Мы определили, к какому классу среды относятся шахматы. Теперь выясним, какой тип интеллектуальных агентов имеет достаточно возможностей для ведения игры.

Рассмотрим все типы агентов начиная с самого простого. Так мы найдём минимально достаточные требования к агенту.

#### Простой рефлексный агент

Сможет ли играть в шахматы простой рефлексный агент? Агент этого типа игнорирует последовательность актов восприятия. Он ориентируется только на текущее состояние среды. При этом её возможные будущие состояния не учитываются.

В общем случае рефлексный агент может работать в некоторых средах, которые относятся к тому же классу, что и шахматы.

Например, рефлексный агент может успешно играть в классические крестики-нолики с полем 3 на 3 клетки. Крестики-нолики считаются [решённой игрой](https://en.wikipedia.org/wiki/Solved_game). Это значит, что для каждого игрока найдена стратегия, которая приводит к наилучшему результату. Если оба игрока придерживаются лучшей стратегии, партия заканчивается ничьей.

Чтобы рефлексный агент смог играть в крестики-нолики, его таблица правил должна содержать следующее:

* Все состояния поля игры, допустимые правилами.

* Ходы агента, которые реализуют лучшую стратегию, для каждого состояния поля.

Имея такую таблицу правил, простой рефлексный агент сможет отыгрывать лучшую стратегию в ответ на любые действия оппонента.

Какой размер таблицы правил нужен рефлексному агенту для игры в крестики-нолики? Всего существует 3^9^ или 19683 способов заполнить поле 3 на 3. Каждая клетка может быть пустой, либо в ней может стоять крестик или нолик. Из всех 19683 комбинаций только 5478 удовлетворяют правилам игры.

Таким образом таблица правил рефлексного агента содержит 5478 строк. Каждая строка имеет информацию о поле игры (9 клеток) и соответствующем действии агента. Действие агента можно закодировать в 9 битах. Это ход в одну из девяти клеток поля. Состояние доски можно сохранить в `9 * 3 = 27` битах. Это девять клеток поля, у каждой из которых может быть три состояния: пустая, крестик или нолик. Итого мы получаем размер таблицы `5478 * (27 + 9) = 197208` бит или 24651 байт.

Мы выяснили, что для относительно простой игры в крестики-нолики рефлексному агенту нужна таблица правил размером примерно 25 Мбайт. Теперь попробуем представить, какого размера таблица правил нужна для шахмат.

Как выяснил Клод Шеннон, существует около 10^44^ возможных позиций на шахматной доске. Это число несоизмеримо больше 5478 — числа возможных состояний поля в крестиках ноликах. Соотношение чисел 10^44^ и 5478 показывает насколько больше таблица правил для шахмат, чем для крестиков-ноликов. Современные компьютерные технологии просто не позволяют сохранить такой объем информации.

Есть ещё одна проблема при создании рефлексного агента для игры в шахматы. Шахматы до сих пор не решены. Это значит, что лучшие стратегии для белых и чёрных неизвестны. Поэтому даже если бы удалось составить таблицу правил для игры, стратегия рефлексного агента была бы далеко не лучшей.

#### Рефлексный агент с внутренним состоянием

Добавим к простому рефлексному агенту внутреннее состояние. В этом случае он сможет запоминать все ходы в течении партии. При этом для выбора очередного действия агент всё-равно вынужден использовать заранее составленную таблицу правил.

Как мы выяснили, составить и сохранить таблицу правил для игры в шахматы невозможно на сегодняшний день. Поэтому рефлексный агент с внутренним состоянием нам не подходит.

#### Рефлексный агент, основанный на модели