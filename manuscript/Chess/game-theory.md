## Теория игр и шахматы

### Классификация игры

Для начала определим, к какому классу стратегических игр относятся [шахматы](https://ru.wikipedia.org/wiki/Шахматы).

В шахматах игроки ходят по порядку друг за другом. Поэтому игра — последовательная.

Выигрыш одного игрока означает поражение другого. По правилам шахматных турниров выигравший партию игрок получает одно очко, а проигравший ноль. В партии возможна ничья. При этом игроки делят выигрыш пополам: каждый получает по 0.5 очков. Из этих правил следует, что шахматы — игра с нулевой суммой.

В шахматах правила игры являются общим знанием. Каждый участник знает правила игры, выигрыши при возможных исходах и функции полезности. Игроки знают стратегии друг друга потому, что могут просчитать несколько ходов наперёд. Таким образом шахматы — это игра с полной информацией.

Во время шахматной партии участники могут записывать или запоминать все выполненные ходы. Таким образом стратегической неопределённости нет. Это характерно для игры с совершенной информацией.

В шахматах нет элемента случайности. Никакое случайное событие не может повлиять на исход партии. Когда такой внешней неопределённости нет, игроки могут просчитывать будущие ходы. следовательно шахматы — это детерминированная игра.

Во время турнира одни и те же игроки часто играют друг с другом несколько раз. При этом во время партии каждый из них делает несколько ходов. Поэтому шахматы можно отнести к многократным и многоходовым играм.

Правила игры фиксированные. На турнирах каждому игроку отводится определённое время на все ходы. Сколько именно времени, зависит от типа турнира. Наиболее популярны следующие варианты:

* **Классический**. На первые 40 ходов каждому игроку отводится 90 минут. После 40-ого хода каждому игроку добавляется 30 минут. К этим 30 минутам добавляется по 30 секунд за каждый ход, сделанный с начала партии.

* **Рапид** (rapid). Каждому игроку отводится от 10 до 60 минут на все ходы.

* **Блиц** (blitz). Игрокам отводится от 3 до 10 минут на ходы.

* **Буллит** (bullet). Игроки имеют менее 3-х минут на ходы.

* **Армагеддон** (armageddon). Игрок за чёрные фигуры выигрывает в случае ничьей. Ему отводится на 1 минуту меньше времени, чем игроку за белые фигуры. Обычно, белые имеют 6 или 5 минут на все ходы. Соответственно чёрные имеют 5 или 4 минуты.

Шахматы — это игра с нулевой суммой для двух участников. Поэтому договориться участники не могут. Это означает, что игра некооперативная.

Во время партии каждый участник имеет право ходить только своими фигурами. Поэтому шахматы относятся к пристрастным играм.

Шахматная доска имеет 64 клетки. В начале игры каждый участник имеет по 16 фигур. В течении партии число фигур на доске уменьшается. Это значит, что число возможных позиций фигур на доске конечно. Из этого следует, что число стратегий у каждого игрока конечное. Таким образом шахматы — это дискретная игра.

Подведём итог. Шахматы — это:

* Последовательная игра
* Игра с нулевой суммой
* Игра с полной информацией
* Игра с совершенной информацией
* Детерминированная игра
* Многократная и многоходовая игра
* Фиксированные правила
* Некооперативная игра
* Пристрастная игра
* Дискретная игра

### Стратегия игры

Посмотрим, что говорит теория игр о решении шахмат. Мы уже знаем, что последовательную игру удобнее представлять в развёрнутой форме. Для этого надо построить дерево игры. Сделать это возможно, поскольку в шахматной партии конечное число ходов. Далее применив метод обратной индукции, можно найти решение игры.

Исходная позиция фигур на доске будет начальным узлом дерева. Эту позицию демонстрирует иллюстрация 3-1.

{caption: "Иллюстрация 3-1. Начальная позиция фигур на шахматной доске"}
![Начальная позиция](images/Chess/chess-initial-position.png)

Первым ходит игрок с белыми фигурами. У него есть 20 возможных ходов из начальной позиции. Каждая из восьми пешка может сходить вперед на одну или две клетки. Каждый из двух коней может пойти буквой Г направо или налево. Это значит, что из начального узла дерева исходит 20 ветвей.

Каждая из 20 ветвей заканчивается узлом действия. В этом узле ходит игрок с чёрными фигурами. У него тоже есть 20 аналогичных ходов: пешками и конями. Следовательно из каждого узла действия исходит ещё 20 ветвей.

После двух ходов игроков мы получили 400 узлов действия. На третьем ходу у белых есть 26 возможных ходов. На каждый из них чёрные отвечают своими 26-ю ходами. Это значит, что на четвёртом ходу дерево решений содержит 270400 узлов действия.

Число узлов в дереве решений растёт стремительно. Какой же будет его конечный размер? Этим вопросом заинтересовался американский математик [Клод Шеннон](https://ru.wikipedia.org/wiki/Шеннон,_Клод). В 1950 году он [оценил](https://ru.wikipedia.org/wiki/Число_Шеннона) сложность игры в шахматы. Согласно его оценке, число возможных позиций фигур на шахматной доске примерно равно 10^44^. При этом [**сложность дерева игры**](https://en.wikipedia.org/wiki/Game_complexity#Game-tree_complexity) составляет примерно 10^120^. Эта сложность означает число узлов в дереве решения игры.

Из-за огромного размера дерева игры в шахматы его нельзя построить и проанализировать. Нет компьютера с достаточной памятью, чтобы сохранить все узлы дерева. Кроме того чтобы проанализировать эти узлы, самому мощному современному компьютеру понадобится около 10^100^ лет.

Получает, что теоретически игру в шахматы можно решить инструментами теории игр. Однако, у нас нет физической возможности это сделать. Как же тогда играют в шахматы профессионалы?

### Приёмы профессиональных игроков

### Системы оценки игроков